<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            overflow-x: hidden; /* Prevent horizontal overflow */
        }

        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }

        #map-container {
            display: flex;
            justify-content: center;
            margin: 20px;
            max-height: 600px; /* Limit map height */
            overflow: hidden; /* Prevent map from overflowing */
        }

        #map {
            width: 100%;
            height: 600px; /* Fix map height */
            max-width: 1270px;
            border: 4px solid #4CAF50;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #opinions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px;
            flex-wrap: wrap;
        }

        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            max-width: 300px;
            text-align: center;
            transition: transform 0.2s;
        }

        .card:hover {
            transform: scale(1.05);
        }

        .card h3 {
            color: #4CAF50;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 16px;
            color: #555;
        }
    </style>
    <title>The Ecosystem Service Map</title>
</head>

<body>
    <header>
        The Ecosystem Service Map
    </header>

    <div id="map-container">
        <div id="map"></div>
    </div>

    <div id="opinions">
        <div class="card">
            <h3>John Doe</h3>
            <p>"This map is a great representation of our natural resources. Very insightful!"</p>
        </div>
        <div class="card">
            <h3>Jane Smith</h3>
            <p>"I appreciate the details and accuracy. It helps to better understand our environment."</p>
        </div>
        <div class="card">
            <h3>Emily Johnson</h3>
            <p>"The design is user-friendly, I love the interactive features."</p>
        </div>
    </div>

    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>

    <script>
        var map = L.map('map', {
            zoomControl: false,
            maxZoom: 28,
            minZoom: 1
        }).fitBounds([
            [47.255138918704056, 11.377412119969355],
            [47.272001027545, 11.41443503195323]
        ]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({
            truncate: {
                length: 30,
                location: 'smart'
            }
        });

        function removeEmptyRowsFromPopupContent(content, feature) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var rows = tempDiv.querySelectorAll('tr');
            for (var i = 0; i < rows.length; i++) {
                var td = rows[i].querySelector('td.visible-with-data');
                var key = td ? td.id : '';
                if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                    rows[i].parentNode.removeChild(rows[i]);
                }
            }
            return tempDiv.innerHTML;
        }

        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            if (tempDiv.querySelector('td img')) {
                popup._contentNode.classList.add('media');
                setTimeout(function () {
                    popup.update();
                }, 10);
            } else {
                popup._contentNode.classList.remove('media');
            }
        }

        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);

        function setBounds() {}

        map.createPane('pane_TopPlusOpenWebGrauTMS_0');
        map.getPane('pane_TopPlusOpenWebGrauTMS_0').style.zIndex = 400;
        var layer_TopPlusOpenWebGrauTMS_0 = L.tileLayer('https://sgx.geodatenzentrum.de/wmts_topplus_open/tile/1.0.0/web_grau/default/WEBMERCATOR/{z}/{y}/{x}.png', {
            pane: 'pane_TopPlusOpenWebGrauTMS_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_TopPlusOpenWebGrauTMS_0;
        map.addLayer(layer_TopPlusOpenWebGrauTMS_0);
        setBounds();
    </script>
</body>

</html>